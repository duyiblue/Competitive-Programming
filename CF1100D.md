## CF1100D Dasha and Chess

[题目链接](https://codeforces.com/problemset/problem/1100/D)

---

先将白棋移到棋盘正中央，也就是 $(500, 500)$ 的位置，这需要花费不超过 $499$ 步。

如果此时有黑棋也在第 $500$ 行或第 $500$ 列，那么直接获胜。排除这种情况后，现在整个棋盘被我们划分为左上方、右上方、左下方、右下方四个部分，每个部分大小均为 $499\times 499$。设四个部分内各有 $a, b, c, d$ 枚黑棋，则 $a + b + c + d = 666$。

我们考虑挑选一个方向，沿着对角线走过去。例如，如果选择向左上方走，我们就会从 $(500, 500)$ 走到 $(1, 1)$。我们一共会走 $499$ 步。称所选方向以及与它相邻的两个方向所对应的区域，为被我们“覆盖到”的区域（例如，与左上方相邻的是右上方和左下方。如果向左上方走，那么这三个区域都是被我们覆盖到的）。

被覆盖到的区域里的黑棋，如果全程没有被移动（全程：指从白棋位于 $(500, 500)$ 开始算起，直到白棋沿着对角线走到某个角落为止），那么必定会在某个时刻和白棋共行或共列，这样我们就赢了。

现在我们要证明，通过合理地挑选方向，一定能使我们覆盖到的区域里，黑棋数量之和 $> 499$，这样在我们扫描完之前，对手来不及把所有黑棋都移出去。

因为 $a + b + c + d = 666$，根据鸽巢原理可知，$\min\{a, b, c, d\}\leq \lfloor\frac{666}{4}\rfloor = 166$。因此如果我们选择一个方向，使得所覆盖的三个区域内的黑棋数量之和最大，这个最大值一定 $\geq 666 - 166 = 500 > 499$。

于是我们找到了必胜策略，且可以在 $499 + 499 \leq 2000$ 步以内完成。

值得注意的是，如果在移动过程中，下一步要去的位置上已有一枚黑棋，那不能直接走上去。但此时我们一定可以在一步以内直接取胜（走到一个和它共行或共列的点）。

---

**总结**：

通过直觉或灵感，首先想到走到中间。然后使用鸽巢原理。

**归类**：网格，鸽巢原理。

**难度**：中。



