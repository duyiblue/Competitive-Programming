分享一个的乱搞做法。

从感觉上来说，$3n$ 次随机的排列会比 $7n + 1$ 次随机的排列更“**有序**”一些。那么我们怎么衡量这个“有序”的程度呢？

经过尝试，我们发现了一个可以量化的指标：

$$
f(p) = \sum_{i = 1}^{n}[p_i = i]
$$

直觉上容易看出，随机的次数越多，排列应该越无序，$f(p)$ 应该越小。所以 $3n$ 次随机的排列，$f(p)$ 值是明显大于 $7n + 1$ 次随机的（$n$ 越大越明显，读者可以自己进行一些尝试）。

事实上，只要 $f(p) > 2$ 我们就判为 $3n$ 次随机，$f(p)\leq 2$ 我们就判为 $7n + 1$ 次随机。特判样例后，可以通过本题。

代码如下：

```cpp
int n, p[MAXN + 5];

int main() {
	cin >> n;
	int ans = 0;
	for (int i = 1; i <= n; ++i) {
		cin >> p[i];
		ans += (p[i] == i);
	}
	if (n == 5 || ans > 2) {
		cout << "Petr" << endl;
	} else {
		cout << "Um_nik" << endl;
	}
	return 0;
}
```

其实，顺着这个思路，我们可以做更进一步的探究。考虑如下问题：

> 一个排列 $p$，初始时是 $1,2,\dots ,n$。现在进行 $m$ 次操作，每次随机两个不同的位置，交换它们的值。问 $m$ 次操作后 $p_i = i$ 的位置 $i$ 的数量的期望。

因为在排列里，每个位置是等价的，所以根据期望的线性性，我们只需要算出最终 $1$ 在原位的概率（即 $p_1 = 1$ 的概率），再乘以 $n$ 就是答案了。

于是可以考虑 DP。设 $\mathrm{dp}(i, 0/1)$ 表示第 $i$ 次操作后，$1$ 是/否在原地的概率。转移比较简单。

通过这个 DP 可以算出，$n = 1000$ 时，$3n$ 次随机得到的 $f(p)$ 的期望是 $3.44667$，而 $7n + 1$ 次随机得到的 $f(p)$ 值的期望是 $1.00081$。所以上述做法还是很有道理的。





